(()=>{"use strict";var e="cache-v2",n="runtime-cache",t=["/offline","/css/styles.css","/js/script.js"];self.addEventListener("install",(function(n){n.waitUntil(caches.open(e).then((function(e){return e.addAll(t)})).then((function(){return self.skipWaiting()})))})),self.addEventListener("activate",(function(t){t.waitUntil(caches.keys().then((function(t){return Promise.all(t.map((function(t){if(t!==e&&t!==n)return caches.delete(t)})))})))})),self.addEventListener("fetch",(function(c){var r=new URL(c.request.url).pathname;c.request.headers.get("accept").includes("text/html")?c.respondWith(caches.open(n).then((function(e){return e.match(c.request)})).then((function(e){return e||(t=c.request,fetch(t).then((function(e){var c=e.clone();return caches.open(n).then((function(e){return e.put(t,c)})),e})));var t})).catch((function(){return caches.open(e).then((function(e){return e.match("/offline")}))}))):t.includes(r)&&c.respondWith(caches.open(e).then((function(e){return e.match(r)})))}))})();